{% extends "base.html" %}
{% block title %} Коллекция {{ collection.name }} {% endblock %}
{% block header %}{% endblock %}
{% block content %}
{% load thumbnail %}

<div class="container">

    <div class="d-grid gap-3 d-md-flex justify-content-md-start">
        {% if request.user == author %}
        <button type="button" class="btn btn-outline-secondary btn-sm px-4 "><a
                class="nav-link"
                href="{% url 'web_collectors:new_item' group.slug collection.id %}">Новый
            предмет коллекции</a>
        </button>
        <button type="button" class="btn btn-outline-secondary btn-sm px-4 "><a
                class="nav-link"
                href="{% url 'web_collectors:update_collection' group.slug collection.id %}">Редактировать</a>
        </button>
        {% endif %}
    </div>


    <div class="px-4 py-5">
        <div class="row g-5 py-5">
            <div class="col-4">
                <h1 class="display-5 fw-bold lh-1 mb-3">{{ collection.name }}</h1>
                <p class="lead">{{ collection.description }}</p>
            </div>
            <div class="col-4">
                {% thumbnail collection.photo "350x250" crop="center" upscale=True as im %}
                <img src="{{ im.url }}" class="d-block mx-lg-auto img-fluid" alt="" width="800" height="600"
                     loading="lazy">
                {% endthumbnail %}
                {% include "includes/favorite.html" %}
            </div>
            <div class="col-4">
                {% include "includes/comments.html" %}
            </div>
        </div>
    </div>
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{% url 'web_collectors:groups' %}">Коллекции</a></li>
            <li class="breadcrumb-item"><a href="{% url 'web_collectors:group' group.slug %}">{{ group.name }}</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">{{ collection.name }}</li>
        </ol>
    </nav>

    <div class="my-3 p-3 bg-body rounded shadow-sm">
        {% for item in page %}
        <div class="d-flex text-muted pt-3">
            <svg class="bd-placeholder-img flex-shrink-0 me-2 rounded" width="32" height="32"
                 xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 32x32"
                 preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title>
                <rect width="100%" height="100%" fill="#20c997"></rect>
                <text x="50%" y="50%" fill="#007bff" dy=".3em"></text>
            </svg>
            <div class="pb-3 mb-0 small lh-sm border-bottom w-100">
                <div class="d-flex justify-content-between">
                    <strong class="text-gray-dark">{{ item }}</strong>
                    <a href="{% url 'web_collectors:item' group.slug collection.id item.id %}">Follow</a>
                </div>
                <span class="d-block">@name</span>
            </div>
        </div>
        {% endfor %}

    </div>

    {% if page.has_other_pages %}
    {% include "includes/paginator.html" with items=page paginator=paginator %}
    {% endif %}
    {% endblock %}
</div>