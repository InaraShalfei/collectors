{% load user_filters %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>

<script>
function submitAsynchronously(formId) {
    let form = document.getElementById(formId);

    form.addEventListener('submit', function(event) {
        event.preventDefault()
        let data = new FormData(form);
        axios.post(form.action, data)
         .then(res => location.reload())
         .catch(errors => console.log(errors))
    })
}



</script>
<div class="container">

    <div class="p-4 p-md-5 mb-4 rounded text-bg-dark">
        <div class="col-md-6 px-0">
            <h1 class="display-4 fst-italic">Автор: {{ author.username }}</h1>
            <p class="lead my-3"> Всего коллекций: {{ author.collections.count }}</p>
        </div>


        {% if author != request.user %}
        {% if following %}
        {% include "includes/unfollow.html" %}
        {% else %}
        {% include "includes/follow.html" %}
        {% endif %}
        {% endif %}
    </div>

</div>
